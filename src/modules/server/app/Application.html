<Header/>

<main id="content"></main>

<Footer/>

<script>
    //This should be one
    import history from './services/history';
    import createRouter from './services/createRouter.js';
    import api from './services/api';
    
    import Link from './components/Link.html';
    import Footer from './components/Footer.html';
    import Header from './components/Header.html';

    import Home from './pages/Home.html';
    import ApplicationView from './pages/ApplicationView.html';
    import ApplicationAdd from './pages/ApplicationAdd.html';
    import ApplicationEdit from './pages/ApplicationEdit.html';

    const router = createRouter({
        '/': Home,
        '/application/add': ApplicationAdd,
        '/application/:appid/edit': ApplicationEdit,
        '/application/:appid': ApplicationView,
    });

    window.api = api;
    window.router = router;
    
    export default {
        oncreate() {
            router.start(location, document.querySelector('#content'));
        },
        ondestroy() {
            router.teardown();
        },
        components: {
            Home,
            ApplicationView,
            ApplicationEdit,

            Footer,
            Header,
            Link
        }
    };
</script>